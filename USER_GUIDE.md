# Shopline 類別管理器 - 使用者指南

*快速管理 Shopline 產品類別，節省大量時間！*

---

## 快速開始

### 安裝 Extension

1. **打開 Chrome** 瀏覽器
2. **輸入** `chrome://extensions/`
3. **啟用** 右上角的「開發人員模式」
4. **點擊** 「載入未封裝的擴充功能」
5. **選擇** Extension 文件夾
6. **確認** Extension 出現在列表中 ✓

---

## 主要功能

### 📊 統計儀表板

Popup 打開時顯示：

- **Moves Today** - 今天移動的類別數
- **Time Saved** - 節省的總時間
- **Avg per Move** - 每次移動的平均時間

範例：
```
Moves Today: 15
Time Saved: 3 min 15 sec
Avg per Move: 13 sec
```

---

### 🔍 搜尋類別

快速在龐大的類別樹中找到所需類別：

1. **點擊** Extension 圖標打開 Popup
2. **在搜尋框輸入** 類別名稱
3. **結果即時更新** (無需按 Enter)
4. **點擊結果** 選擇類別

**搜尋技巧**:
- 輸入部分名稱（例如「手」→ 自動找到「手機」）
- 支援中文和英文搜尋
- 最近搜尋會保存在「最近搜尋」部分

---

### ⏱️ 時間追蹤

追蹤你的工作效率：

**時間追蹤摘要顯示**:
- **今日節省** - 累計節省時間（小時:分）
- **上次移動** - 最後一次操作的時間
- **移動次數** - 今天的移動總數
- **最近移動** - 最後 5 次移動的列表

範例：
```
今日節省: 1 小時 45 分
上次移動: 14:30
移動次數: 8
最近移動:
  14:30 服裝 → Level 2 (13s)
  14:15 手機配件 → Level 3 (13s)
  ...
```

---

### 📤 匯出統計

將所有統計資訊下載為 JSON 文件：

1. **點擊** 「匯出統計」按鈕
2. **瀏覽器下載** `shopline-category-stats-YYYY-MM-DD.json`
3. **使用 JSON 文件**用於：
   - 備份數據
   - 分析工作效率
   - 生成報表

**匯出內容包括**:
- 統計摘要（移動次數、時間節省）
- 移動歷史（每次移動的詳細信息）
- 搜尋歷史（過去的搜尋查詢）

---

### ↩️ 撤銷上次移動

如果你犯了錯誤，可以撤銷上次的移動：

1. **立即點擊** 「撤銷上次移動」
2. **統計會自動更新** (移動次數 -1，時間 -13s)
3. **如無可撤銷操作** 會顯示提示訊息

**限制**:
- 只能撤銷最後一次移動
- 一旦關閉 Popup，撤銷會基於存儲的歷史

---

### ❌ 錯誤日誌

查看最近發生的錯誤（診斷用）：

**錯誤類型**:
- 🔴 **Network** - 網路連接問題（超時、連接被拒）
- 🟠 **API** - Shopline 伺服器錯誤（500, 502, 503）
- 🟡 **Validation** - 輸入驗證失敗（無效 ID、缺少字段）
- 🟣 **Scope** - AngularJS 問題（Scope 未找到）

**使用方法**:
1. **查看錯誤日誌** 中的最近 10 個錯誤
2. **注意時間和類型** 以判斷問題
3. **點擊「清除錯誤」** 重置日誌

---

### ✅ 驗證進度

觀看 8 步驟驗證流程的實時進度：

```
1. Input validation      ⬜ → 👷 → ✅
2. Pre-flight check      ⬜ → 👷 → ✅
3. Scope verification    ⬜ → 👷 → ✅
4. Tree validation       ⬜ → 👷 → ✅
5. Permission check      ⬜ → 👷 → ✅
6. API request          ⬜ → 👷 → ✅
7. Response verification ⬜ → 👷 → ✅
8. Post-move verification⬜ → 👷 → ✅
           ↓
    ✓ 移動完成
```

**圖標含義**:
- ⬜ - 待機（等待執行）
- ⏳ - 執行中
- ✅ - 成功
- ❌ - 失敗

---

## 常用操作

### 操作 1: 重置統計

想要開始新的計數？

1. **點擊** 「Reset Stats」按鈕
2. **確認** 對話框
3. ✅ 統計重置為 0

---

### 操作 2: 查看完整移動歷史

查看所有過去的移動記錄：

```javascript
// 打開瀏覽器 Console (F12)
new StorageManager().getMoveHistory().then(h => console.table(h))
```

---

### 操作 3: 搜尋技巧

**範例搜尋**:
- 搜尋「服」→ 找到「服裝」、「服務」
- 搜尋「手」→ 找到「手機」、「手錶」
- 搜尋「電」→ 找到「電子產品」、「電器」

---

## 故障排除

### 問題 1: Extension 圖標不顯示

**症狀**: Chrome 工具欄看不到 Extension 圖標

**解決**:
1. 右鍵點擊 Chrome 工具欄
2. 選擇「管理擴充功能」
3. 找到「Shopline Categories」
4. 確保已啟用

---

### 問題 2: Popup 空白或崩潰

**症狀**: 點擊圖標無反應，或 Popup 為空

**解決**:
1. 重新載入 Extension (chrome://extensions)
2. 在 Extension 名稱上點擊「重新載入」
3. 如仍無效，卸載後重新載入

---

### 問題 3: 搜尋不工作

**症狀**: 輸入搜尋無反應或無結果

**解決**:
1. 等待 1 秒讓搜尋處理
2. 檢查拼寫是否正確
3. 試試部分搜尋（例如「手」而非「手機型號 X123」）

---

### 問題 4: 統計未更新

**症狀**: 匯出或重置後統計未改變

**解決**:
1. 關閉並重新打開 Popup
2. 點擊「重新載入」刷新
3. 檢查 Console (F12) 是否有錯誤訊息

---

### 問題 5: 無法撤銷移動

**症狀**: 「撤銷上次移動」按鈕灰色或不反應

**解決**:
- 這是正常的 - 如果無可撤銷操作，按鈕會禁用
- 撤銷只能用於有移動歷史時
- 關閉 Popup 會失效（無法跨 Session 撤銷）

---

## 快速參考

### 按鈕功能

| 按鈕 | 功能 | 快捷鍵 |
|------|------|--------|
| Reset Stats | 重置所有統計 | - |
| Settings | 設定（未來功能） | - |
| 清除歷史 | 清空搜尋歷史 | - |
| 清除錯誤 | 清空錯誤日誌 | - |
| 匯出統計 | 下載 JSON 備份 | - |
| 撤銷上次移動 | 恢復上次操作 | - |

---

### 鍵盤快捷鍵

*（未來版本計畫）*

- `Ctrl+Shift+Y` - 打開 Extension Popup
- `Ctrl+Shift+U` - 撤銷上次移動
- `Ctrl+Shift+E` - 匯出統計

*目前請使用滑鼠點擊操作*

---

## 隱私和安全

✅ **我們承諾**:
- 🔒 所有數據存儲在你的 Chrome 本地存儲中
- 🚫 不上傳任何數據到遠程伺服器
- 🔐 不追蹤或收集個人信息
- 📱 不需要帳戶登錄

---

## 常見問題 (FAQ)

**Q: Extension 會佔用多少空間？**
A: 最多 1-2 MB，包括 500 條移動歷史和 100 條錯誤日誌

**Q: 統計數據會保留多久？**
A: 無限期保留，直到你手動重置或卸載 Extension

**Q: 可以在多台電腦上同步嗎？**
A: 目前不支援。未來計畫添加 Google Drive 同步

**Q: 如何使用匯出的 JSON？**
A: 你可以：
- 備份數據
- 用 Excel/Google Sheets 打開分析
- 生成自己的報表

**Q: 支援多個帳戶嗎？**
A: 支援。每個 Chrome 使用者帳戶有獨立的 Extension 數據

---

## 提示和技巧

### 💡 提示 1: 優化搜尋
使用最少的字母搜尋以加快速度：
- ❌ 「電子消費產品」
- ✅ 「電子」

### 💡 提示 2: 監控效率
定期查看平均時間，了解你的工作效率趨勢

### 💡 提示 3: 錯誤診斷
遇到問題時檢查錯誤日誌，比檢查 Console 更簡單

### 💡 提示 4: 定期匯出
每週匯出統計備份，防止數據遺失

---

## 反饋和支持

發現問題或有建議？

1. 打開 Chrome DevTools (F12)
2. 查看 Console 中的錯誤訊息
3. 記錄錯誤和步驟
4. 聯繫開發團隊

---

## 版本歷史

| 版本 | 日期 | 新增功能 |
|------|------|---------|
| 1.0 | 2026-01-23 | 初版發布 - 搜尋、時間追蹤、匯出、撤銷 |

---

**祝你使用愉快！** 🎉

更快管理類別，更多時間專注於業務！

---

**用戶指南版本**: 1.0
**最後更新**: 2026-01-23
**支持語言**: 繁體中文、English (計畫中)
